
import sys

from io import StringIO

sys.stdin = StringIO("""9
22 0
31 26
39 19
45 53
47 67
53 61
63 65
79 63
81 0
10
22 0
28 -8
37 -44
38 -86
44 -51
46 -38
50 -87
55 -64
61 -22
81 0""")


up = [tuple(int(x) for x in input().split()) for _ in range(int(input()))]
down = [tuple(int(x) for x in input().split()) for _ in range(int(input()))]


#up= [(30224, 0), (32684, 903304), (33129, 790588), (33598, 872936), (34624, 477438), (36717, 663665), (38120, 331029), (39224, 277806), (39692, 145640), (40502, 55435), (41362, 873744), (41787, 17034), (44873, 778328), (47319, 204827), (48433, 399530), (49748, 176651), (49856, 788526), (50652, 695418), (53014, 829014), (56124, 969539), (56857, 989331), (57204, 530426), (60275, 998182), (63686, 752973), (64334, 478285), (64568, 61834), (64872, 930850), (69587, 59661), (69778, 596805), (72291, 698859), (74812, 752469), (77519, 664054), (81727, 398851), (84411, 766474), (85551, 34945), (88540, 863687), (89201, 457434), (90169, 209924), (90459, 120779), (96994, 290252), (97147, 720422), (97171, 888678), (97289, 417025), (97446, 24821), (99421, 579751), (107857, 865976), (110379, 501005), (110839, 422827), (111987, 768054), (112131, 569954), (117231, 420155), (117362, 14171), (118198, 898946), (118890, 611831), (119444, 864319), (121252, 746647), (123367, 399861), (124658, 392394), (124978, 25151), (125370, 994725), (125462, 333945), (126219, 414674), (126715, 441304), (127165, 662411), (133512, 80735), (133754, 476322), (134118, 354083), (135715, 27587), (135843, 103407), (136187, 696985), (137426, 564723), (138372, 969284), (142974, 224974), (143912, 388231), (145849, 265537), (146286, 571657), (146761, 438129), (146984, 14773), (148058, 131373), (148182, 758186), (150943, 390701), (151153, 435677), (159076, 530700), (159576, 994753), (160402, 526817), (161754, 325909), (162772, 607192), (165161, 468791), (165891, 25613), (167470, 995328), (168988, 829831), (169232, 559185), (169973, 49740), (170149, 802412), (170425, 483661), (173774, 537600), (173841, 529695), (174264, 867125), (174748, 764573), (175305, 147466), (176486, 668343), (177017, 887522), (180373, 692553), (181564, 33652), (182582, 227135), (183350, 722605), (185346, 831545), (189476, 347520), (193111, 747417), (193194, 763772), (193329, 465606), (194906, 86153), (196065, 705133), (196564, 828515), (196698, 276952), (197928, 142446), (199286, 365163), (204788, 845813), (207092, 844774), (208365, 627894), (208520, 538622), (209363, 22327), (211383, 928157), (213828, 434928), (214445, 410344), (214474, 2305), (215303, 487576), (218380, 949100), (218585, 763180), (220127, 813151), (220370, 948786), (223966, 53987), (225392, 387099), (226596, 588397), (226794, 140012), (228180, 359232), (230553, 341110), (231814, 658081), (232161, 2004), (235999, 179274), (237775, 605177), (242442, 404205), (242679, 520777), (245112, 668754), (245188, 822478), (246982, 346979), (247134, 55853), (248679, 718543), (248952, 795902), (249195, 636148), (250021, 75974), (250226, 312428), (251450, 185027), (251460, 202337), (252092, 887333), (255383, 159118), (255521, 78629), (256526, 655249), (257311, 512349), (257858, 548653), (258912, 436743), (259089, 458792), (260831, 19338), (262209, 224540), (263137, 364218), (268928, 186664), (269404, 414713), (269877, 892395), (270088, 848154), (270358, 461183), (270763, 658610), (273829, 637684), (273854, 42318), (276088, 344284), (277481, 725727), (278185, 844181), (278227, 83287), (281145, 2029), (282080, 276751), (284256, 396494), (287224, 305080), (290900, 655867), (294990, 159819), (295076, 427053), (296004, 953374), (297500, 359114), (298735, 952249), (299586, 513466), (301253, 265455), (301649, 575472), (302564, 988265), (304071, 821886), (304349, 14541), (307430, 647527), (308527, 572010), (308974, 552934), (310837, 292672), (311843, 784156), (313353, 446958), (313664, 604235), (314726, 243258), (316490, 310605), (317619, 968709), (318981, 999125), (323217, 919720), (325931, 613863), (328263, 26894), (329242, 748053), (329366, 604084), (330764, 289862), (331914, 912145), (335271, 164146), (335374, 361802), (336250, 126942), (337919, 982126), (338778, 641154), (339028, 370888), (342440, 883021), (342748, 806029), (344697, 844643), (345451, 290740), (347741, 824299), (348487, 147488), (349408, 747430), (349979, 646481), (350638, 449546), (350742, 35506), (351056, 824730), (351832, 294448), (351923, 297293), (354712, 479567), (355236, 143246), (355390, 564459), (355426, 405507), (355930, 412586), (357869, 87901), (357982, 860594), (358323, 833538), (359131, 322496), (360277, 416081), (360306, 138358), (361715, 452497), (361767, 347302), (367960, 514768), (368535, 995308), (369093, 199150), (369677, 605432), (370314, 389175), (370337, 966924), (372902, 305893), (373671, 622814), (374697, 367137), (376879, 939171), (377238, 50060), (377708, 483002), (378074, 135826), (378491, 734189), (380323, 838791), (380886, 350591), (383669, 342945), (384089, 406709), (384623, 116009), (384889, 192522), (385461, 914839), (385566, 904554), (387377, 52836), (388032, 113874), (389145, 314584), (391857, 289287), (394677, 346031), (394811, 409867), (394818, 283265), (399218, 851191), (399803, 848441), (401053, 19388), (402052, 951625), (402520, 209362), (405660, 685572), (407835, 337743), (408659, 157724), (408724, 885840), (409082, 178194), (417091, 874015), (417211, 253529), (417257, 641323), (417329, 922622), (417922, 991306), (419086, 246291), (419357, 439380), (420446, 555974), (420675, 562413), (420804, 458947), (424070, 247216), (424138, 760636), (425766, 716109), (430907, 466597), (432037, 160118), (432835, 333594), (434570, 217722), (434640, 443537), (438416, 166853), (441441, 618364), (441628, 685152), (442373, 163018), (442439, 328457), (443411, 508643), (444524, 927371), (447317, 38085), (447943, 391211), (449191, 695331), (449904, 326277), (452813, 525149), (453080, 764549), (455987, 41764), (456836, 685184), (457411, 241022), (457909, 436660), (458384, 415022), (458542, 601209), (459136, 726583), (460945, 553471), (462087, 606717), (462559, 242661), (463105, 154101), (464652, 474730), (465228, 454761), (465720, 434481), (466135, 451842), (468661, 87945), (471705, 970045), (472841, 663757), (473628, 466025), (475363, 332973), (480472, 402965), (481649, 155356), (482315, 620957), (484822, 36577), (485510, 667160), (486241, 443047), (488320, 93370), (488891, 276496), (489779, 427146), (493375, 142271), (499202, 227928), (500015, 355150), (500108, 193770), (501124, 490865), (502839, 414025), (502948, 850176), (503807, 951956), (504421, 992138), (505607, 132022), (510186, 842389), (511148, 898613), (511308, 937589), (511344, 154126), (512141, 624134), (513951, 615965), (515129, 673805), (515706, 204947), (516098, 20774), (518617, 365647), (518971, 373637), (519344, 361770), (521377, 321064), (521673, 225387), (522825, 309083), (524350, 99633), (524382, 181250), (524816, 796178), (526986, 816326), (527430, 803652), (528055, 185547), (528230, 426011), (528417, 84866), (531103, 397949), (531444, 401458), (531595, 848274), (533616, 473953), (534189, 87295), (534253, 162424), (540353, 980163), (542428, 864131), (545320, 41975), (546350, 884679), (547135, 905622), (548281, 732558), (551091, 43490), (552099, 228696), (552341, 497768), (555021, 309003), (557050, 542693), (558153, 3127), (559240, 713), (561675, 61347), (565398, 950601), (566531, 772082), (567114, 583571), (568326, 146554), (569985, 167349), (575633, 25504), (575977, 714755), (576538, 616948), (578109, 627264), (579587, 714003), (579784, 820480), (582123, 237303), (582459, 32987), (583222, 50748), (583415, 574188), (584224, 714188), (588028, 653467), (588562, 364402), (589419, 985644), (593043, 134133), (596743, 277235), (598471, 500640), (599652, 821615), (602701, 256500), (603403, 122628), (603603, 217887), (605188, 154351), (605394, 645386), (606059, 780355), (607285, 745097), (608613, 832497), (610762, 52189), (610937, 878755), (612615, 495550), (613006, 924188), (613721, 268184), (614478, 503267), (623059, 261479), (623072, 923315), (623736, 171011), (624010, 430894), (627226, 221575), (627809, 622497), (628553, 569409), (628726, 898086), (628966, 712700), (629946, 359458), (633444, 504606), (634441, 963457), (635198, 26325), (635434, 58280), (638412, 260199), (640753, 478058), (643223, 936124), (643533, 225647), (646431, 797482), (649774, 997373), (650708, 366896), (652835, 418916), (655865, 825256), (658258, 108155), (658281, 804403), (659029, 603825), (659721, 332752), (659798, 8687), (661444, 407886), (662095, 282922), (663102, 770411), (664814, 343939), (665870, 581464), (666054, 698470), (666078, 12965), (666229, 125885), (666980, 646640), (668092, 444497), (668919, 624429), (670832, 145904), (670871, 851170), (672103, 342354), (672903, 988518), (672987, 695236), (673218, 84126), (673499, 556236), (673833, 470912), (673924, 426330), (674271, 323618), (674925, 298725), (679886, 140313), (679977, 376270), (682588, 963709), (682919, 792089), (683633, 13527), (683683, 338993), (683812, 643816), (684233, 991975), (685643, 877710), (688716, 999167), (691381, 788851), (699164, 835542), (699866, 588261), (700489, 485534), (700652, 701513), (700952, 942919), (701190, 68274), (702162, 624224), (702628, 631099), (703796, 415176), (707640, 864654), (708004, 8367), (712153, 920234), (712883, 728657), (713373, 424538), (713670, 409543), (714669, 751356), (714968, 127034), (715468, 989452), (715532, 291453), (728019, 910888), (730720, 152347), (733113, 948450), (733251, 698621), (735801, 340264), (737528, 163523), (738461, 73807), (739184, 137936), (741323, 50252), (742818, 29748), (744360, 559834), (744673, 340985), (744883, 998311), (744967, 341704), (745878, 457926), (746603, 52050), (747053, 360032), (748257, 451417), (748829, 561903), (749588, 211858), (750001, 976042), (751237, 833647), (752020, 394114), (752659, 153057), (753045, 251361), (754281, 98056), (759770, 590294), (760087, 830798), (762277, 594379), (762534, 87404), (764171, 202005), (766886, 826972), (769560, 601484), (772979, 747038), (773262, 176908), (773705, 701748), (775341, 185792), (776136, 748260), (776671, 985908), (782163, 887476), (782329, 748937), (785184, 517274), (785855, 312333), (786655, 497519), (787773, 747088), (789211, 328362), (791429, 911855), (793326, 332777), (793787, 265976), (794151, 561014), (797891, 46077), (798458, 146855), (798731, 566381), (799427, 148039), (800205, 282887), (802910, 532947), (803424, 364796), (805937, 880183), (810097, 895824), (810869, 805001), (811379, 894432), (812130, 550323), (815882, 530091), (819195, 795025), (820859, 481971), (822491, 537451), (822582, 771603), (823704, 9072), (824536, 529550), (825178, 291233), (826456, 538830), (827313, 19467), (828188, 824964), (828845, 957880), (829806, 70018), (829914, 796750), (831685, 32471), (831754, 277632), (833019, 955778), (833667, 975248), (837654, 682917), (838055, 107446), (839220, 625902), (840960, 423441), (841971, 885166), (842540, 160558), (844531, 766302), (845702, 68773), (846706, 632530), (846987, 42472), (847369, 466632), (847569, 580548), (853379, 219257), (858527, 927252), (859387, 919995), (859828, 214079), (867548, 933981), (867561, 722003), (869348, 671528), (873097, 380629), (873250, 361243), (873723, 696810), (877063, 0)]
#down= [(30224, 0), (30541, -498153), (30792, -714248), (33405, -23208), (33411, -783686), (33715, -376167), (33986, -536493), (34533, -816387), (34829, -478352), (34908, -284912), (36552, -821721), (37251, -408258), (37515, -201833), (38321, -384791), (39265, -295307), (41994, -447121), (42169, -357311), (44099, -11405), (44240, -629351), (44818, -471911), (46051, -639828), (46873, -726353), (47955, -226888), (49371, -278333), (50584, -115652), (52355, -916857), (53745, -987762), (54533, -475775), (54818, -829509), (55850, -718951), (57711, -114691), (59032, -628660), (59449, -428229), (59616, -600308), (61862, -230241), (62721, -580094), (63633, -367199), (64186, -892494), (69588, -282268), (69609, -326231), (70439, -352941), (70596, -437782), (71408, -766243), (71716, -765332), (72078, -527243), (73067, -417696), (74428, -734564), (74847, -906120), (75061, -551916), (75335, -982227), (76411, -806297), (77348, -708912), (77452, -385064), (78491, -312742), (79213, -485448), (79439, -930020), (79718, -168450), (80105, -788472), (81004, -29234), (81168, -838586), (82866, -694482), (83578, -824583), (83901, -967919), (84095, -696565), (84774, -626256), (86734, -822084), (86830, -651290), (87644, -336030), (87711, -426028), (90196, -575532), (90480, -872488), (90998, -828814), (91325, -485265), (92767, -568633), (95737, -886600), (96274, -711126), (96587, -403758), (96650, -496898), (97775, -449884), (98688, -27081), (99376, -690036), (99526, -698358), (99776, -160771), (100233, -342732), (103530, -978615), (103668, -856970), (104059, -649294), (104343, -252627), (106115, -299002), (107321, -652808), (108688, -784863), (108833, -535799), (109203, -541655), (109454, -361844), (109976, -539358), (110219, -667942), (111339, -756129), (112450, -109009), (112488, -412289), (112935, -199784), (113170, -96991), (113344, -704664), (114279, -740796), (115315, -239979), (115545, -48694), (116038, -618095), (116230, -198750), (117507, -205027), (118785, -378193), (121431, -542720), (121585, -349341), (122013, -177174), (124722, -337737), (124966, -462705), (126656, -296245), (127083, -898597), (127272, -874665), (128956, -961665), (129610, -301643), (130068, -491078), (130833, -972374), (132260, -872585), (132458, -976019), (132940, -925143), (133109, -212011), (134649, -524713), (137783, -619420), (138160, -580900), (138390, -538542), (141842, -662206), (142379, -15056), (142879, -532731), (143756, -788174), (144306, -114643), (144631, -306658), (144928, -184210), (145202, -561708), (145630, -520603), (146266, -363689), (146850, -43810), (147424, -236538), (147529, -203943), (149591, -12293), (149662, -69709), (152389, -283648), (152422, -457410), (152673, -809106), (153047, -137520), (154665, -235541), (155197, -840437), (155386, -70576), (155927, -326155), (155974, -677524), (156085, -220971), (157192, -646243), (159019, -857272), (160054, -622702), (162014, -383455), (162204, -154214), (162494, -777015), (164689, -948120), (165543, -908562), (165550, -437981), (165554, -678000), (165808, -952120), (166624, -149428), (166656, -151082), (168200, -686113), (168301, -436494), (168750, -203424), (169212, -558776), (169387, -504228), (170241, -112582), (170798, -313855), (171328, -207331), (171661, -662666), (171764, -537070), (171995, -950841), (172342, -940298), (172555, -223744), (172660, -246943), (173190, -371691), (173198, -513692), (174040, -437887), (174392, -961180), (174598, -674079), (175300, -987509), (175530, -585128), (177739, -392303), (177974, -274641), (178300, -984315), (178885, -75020), (179399, -603065), (179515, -641497), (180132, -629037), (180613, -198727), (181310, -976538), (181418, -60400), (181732, -270815), (182033, -934847), (182242, -454007), (183142, -854138), (184714, -500062), (186346, -62326), (186532, -612867), (187230, -406523), (188024, -818113), (191408, -54100), (191469, -400768), (191730, -136496), (193118, -174185), (193315, -754732), (193769, -2811), (194155, -887567), (195653, -891925), (195894, -764857), (196073, -188358), (196935, -751415), (200910, -98309), (201226, -210842), (201725, -834252), (202291, -951483), (202598, -505613), (203198, -443582), (203375, -864380), (203849, -624888), (205381, -525709), (205892, -274608), (205967, -570652), (206454, -610029), (210996, -545445), (213115, -580468), (214435, -905192), (214559, -226900), (214698, -544348), (215632, -39025), (217716, -620957), (219833, -593048), (220822, -828577), (221163, -631804), (221654, -177323), (222646, -763865), (222765, -509831), (224205, -766823), (224627, -518880), (225065, -79439), (225337, -421243), (225789, -665346), (226261, -616120), (229266, -105322), (230876, -284266), (231494, -430074), (231512, -238228), (231931, -982262), (233456, -635356), (236489, -846861), (239947, -167479), (240962, -608273), (241151, -539481), (241442, -244289), (242820, -759890), (242862, -44758), (243089, -706258), (244535, -973954), (244709, -459583), (245012, -237408), (246027, -729094), (246445, -207402), (246893, -357680), (247710, -129445), (247908, -244800), (248414, -873654), (249138, -870362), (249817, -419797), (250133, -427760), (251142, -666785), (251677, -758021), (252839, -686218), (254423, -278204), (254550, -915037), (255938, -443270), (256490, -697635), (259318, -435648), (263849, -668920), (264511, -224847), (265403, -573818), (266570, -111051), (269339, -668554), (270264, -969466), (271479, -523050), (271687, -928180), (272761, -965249), (273326, -463820), (273528, -980254), (274381, -529429), (275727, -47391), (276594, -186209), (276894, -296408), (277044, -118304), (278421, -182775), (278748, -39886), (279830, -614441), (281420, -753859), (284720, -758347), (286287, -661776), (288294, -450422), (288413, -902395), (288881, -222069), (289282, -928416), (289511, -321474), (291262, -333086), (291484, -915030), (291672, -441553), (293791, -362057), (295205, -334012), (295699, -566024), (295774, -570191), (295827, -232967), (296218, -260872), (296420, -707104), (296530, -416593), (296924, -632885), (298848, -865390), (302018, -573115), (303016, -469673), (303873, -186365), (304347, -172058), (304547, -542231), (305043, -257846), (305120, -11470), (305884, -818410), (306306, -148949), (306794, -45692), (307107, -689187), (308605, -66889), (311213, -878298), (313134, -850589), (313586, -189270), (315400, -258296), (317897, -901669), (319022, -400094), (319616, -899162), (320581, -38080), (320944, -731541), (321437, -588251), (323403, -221792), (324681, -617071), (325061, -2772), (326558, -694660), (327339, -450709), (328098, -139615), (329264, -740194), (330365, -803223), (331162, -138319), (332815, -87762), (337558, -783212), (338406, -166107), (339081, -33915), (339398, -804816), (340859, -576425), (341164, -463750), (341496, -914069), (341981, -757607), (342267, -572462), (342832, -859989), (343342, -857255), (343980, -951604), (344278, -741483), (344776, -139818), (346461, -132193), (346815, -322667), (347906, -735160), (349255, -219814), (349867, -885538), (350568, -102922), (350983, -22103), (353072, -376800), (353368, -54198), (353824, -469025), (354250, -476928), (354582, -209905), (354789, -261876), (357762, -383115), (357920, -303598), (358259, -170665), (358303, -695966), (359480, -970589), (361148, -598839), (361624, -174201), (362156, -136199), (363827, -72026), (366185, -434261), (366270, -628610), (369912, -872955), (370230, -598377), (371097, -623020), (372399, -206296), (372786, -185765), (375742, -739547), (377387, -599535), (378399, -680788), (381201, -659869), (381864, -917940), (381951, -588853), (383140, -767680), (383711, -50798), (383763, -988079), (384135, -131133), (384560, -36870), (386436, -295974), (386516, -246279), (387793, -948836), (389423, -849408), (390042, -237103), (390538, -642881), (390579, -964430), (392002, -921529), (392548, -631741), (393007, -342739), (393231, -487373), (395111, -425723), (395733, -153562), (396258, -915755), (399144, -358387), (399437, -363782), (400026, -788622), (400059, -826435), (400314, -126499), (401589, -359702), (403412, -469875), (403780, -695469), (407183, -233912), (407412, -808717), (407697, -338111), (408816, -727540), (408914, -875147), (409468, -459730), (410102, -602086), (410211, -303972), (410911, -780202), (413047, -546524), (413172, -225763), (414094, -248613), (414245, -80566), (415032, -809783), (415425, -899496), (415883, -581851), (416356, -418425), (416666, -715582), (417305, -365657), (417820, -789617), (419024, -672806), (419046, -726309), (419056, -604797), (419143, -961803), (419775, -624052), (420682, -149924), (420877, -82091), (421103, -130779), (421239, -424822), (421969, -635282), (423100, -625947), (423173, -710359), (423355, -368498), (424103, -778255), (424251, -881677), (425930, -529220), (427472, -326858), (427676, -401564), (427712, -79098), (428250, -73842), (428286, -531611), (429513, -385118), (430091, -193772), (433874, -872516), (435411, -981913), (436419, -514129), (436842, -714601), (437062, -676566), (437488, -815312), (438033, -324997), (439915, -596786), (440365, -834499), (440872, -972640), (441058, -249262), (442515, -500467), (442785, -98241), (443597, -986915), (443707, -31107), (443933, -863434), (445024, -203735), (445317, -926601), (445497, -162830), (445849, -596925), (446026, -616213), (446464, -397740), (447696, -43212), (448180, -455593), (448600, -359784), (448723, -412525), (448971, -690922), (449621, -522875), (450745, -978696), (451578, -86033), (452499, -157160), (454165, -501691), (455672, -184652), (456920, -923169), (459852, -707855), (462721, -196668), (462861, -735290), (463775, -360933), (464077, -963733), (464303, -424970), (465006, -578422), (465723, -758597), (465876, -296308), (466228, -895125), (466295, -270460), (466729, -101320), (467199, -395921), (468347, -598786), (468408, -719253), (468738, -926758), (469456, -171440), (470038, -885499), (471885, -436193), (472695, -110457), (474055, -409995), (474522, -836782), (474585, -888402), (476139, -46459), (478055, -7179), (479829, -869384), (480725, -786099), (481054, -407388), (481633, -794787), (482011, -113156), (482536, -572034), (482686, -650372), (482917, -854168), (483375, -392239), (484780, -30647), (485500, -250598), (487499, -52252), (490603, -813760), (490954, -476331), (492054, -807159), (493133, -470402), (494138, -377365), (494910, -372869), (495540, -936114), (495742, -865190), (498153, -345327), (501180, -97735), (502451, -811525), (504465, -882616), (505221, -111470), (505240, -30038), (505893, -601357), (506132, -107065), (506155, -520861), (506295, -918029), (506960, -76062), (507304, -825905), (508147, -282978), (508940, -418881), (511806, -143764), (512610, -949650), (514421, -814939), (514661, -286162), (514728, -534410), (515012, -721204), (515178, -29059), (515434, -478760), (515598, -944346), (515992, -454169), (516193, -941971), (518414, -23141), (519445, -811312), (520457, -556647), (520797, -259254), (521920, -855377), (522753, -465735), (522823, -758725), (527117, -20850), (527901, -78760), (528455, -317883), (528897, -576617), (528942, -518007), (530124, -808616), (531051, -321997), (531887, -14883), (532697, -203147), (534143, -718354), (534942, -579807), (535106, -92269), (537767, -319098), (538856, -269539), (539474, -382227), (539693, -415213), (539709, -994580), (540094, -759570), (540314, -348137), (540873, -840820), (542242, -665777), (542309, -812147), (543156, -212503), (544551, -607051), (545475, -228800), (546183, -959911), (546829, -140484), (548536, -642881), (548728, -446562), (549312, -65145), (550222, -467699), (552681, -205220), (553009, -957648), (554915, -360620), (555636, -897646), (555740, -492840), (558812, -166039), (559051, -581535), (559466, -701959), (561481, -67471), (562139, -902430), (564202, -214544), (564535, -189302), (565451, -718723), (566020, -837923), (567498, -727037), (568427, -427258), (569422, -984127), (569611, -903887), (570181, -416574), (570515, -288879), (571765, -943939), (572379, -414475), (573279, -861721), (573321, -494052), (576045, -576485), (577962, -152063), (578835, -342252), (580514, -897491), (584874, -110863), (586809, -496243), (587157, -431520), (587903, -720371), (588188, -296688), (588325, -141703), (588723, -568069), (589009, -504327), (589312, -267593), (589784, -494473), (590498, -577271), (591243, -522195), (591414, -252279), (593300, -324993), (595550, -319285), (595608, -97023), (596725, -521891), (597065, -826418), (597308, -145245), (598633, -828958), (599849, -53003), (601013, -825499), (601121, -718958), (601559, -873216), (601859, -561867), (601879, -13908), (603563, -224860), (604413, -880567), (604491, -596429), (605958, -434119), (606838, -614266), (607580, -436315), (608149, -589473), (608372, -483430), (608602, -671333), (610403, -687401), (610474, -786421), (611055, -539356), (611249, -684619), (613648, -887058), (613872, -428206), (615229, -466664), (615906, -365096), (617428, -104727), (618032, -253304), (618668, -180259), (619317, -126559), (619571, -926557), (619741, -162482), (620657, -493003), (622850, -757311), (625982, -663165), (627711, -626210), (628225, -396189), (628460, -404606), (631834, -835331), (632543, -551217), (632570, -81153), (633046, -445148), (633484, -931016), (634027, -380200), (639904, -170914), (641679, -546271), (641989, -196264), (644234, -253307), (647186, -903098), (647973, -589042), (648988, -628980), (649024, -556345), (650282, -204150), (651896, -206121), (653134, -148462), (653682, -692250), (654379, -207082), (654949, -558682), (655534, -816490), (655718, -971866), (656365, -464072), (656435, -513447), (656576, -540025), (657673, -519833), (658098, -503279), (658277, -321422), (659991, -703289), (660073, -649474), (660195, -930611), (660312, -684477), (662434, -593010), (662662, -183652), (663016, -167587), (664509, -499338), (665966, -563378), (666086, -453720), (666576, -81257), (667814, -399824), (668564, -590457), (668569, -534223), (670288, -439407), (670617, -768624), (671148, -825864), (671670, -992449), (674593, -392506), (674924, -628382), (675329, -59510), (675713, -664309), (676037, -795151), (676185, -553344), (676514, -542930), (677393, -99196), (677395, -797502), (677986, -321270), (679718, -616661), (683793, -409984), (684163, -655162), (685234, -474088), (686048, -786125), (686787, -331894), (687851, -668566), (688338, -727117), (690695, -619533), (692215, -479679), (692250, -610558), (692372, -232547), (694431, -851051), (694975, -921440), (695803, -118846), (697516, -68741), (698303, -349355), (699274, -335940), (701367, -992201), (703857, -363991), (704171, -557029), (705083, -951741), (705944, -350502), (706101, -119924), (706131, -27507), (707447, -251434), (707469, -819339), (707844, -905109), (709252, -192976), (710334, -497031), (711341, -234817), (711415, -813722), (712478, -805534), (716310, -449945), (716588, -792287), (717310, -102482), (717688, -242765), (718132, -730696), (718856, -67556), (719802, -416370), (721829, -507538), (722794, -653487), (724872, -449350), (726509, -40296), (727599, -556486), (728474, -764042), (729140, -961419), (730670, -762451), (730778, -748647), (732820, -248028), (733161, -674877), (733319, -755896), (733355, -662535), (734110, -753294), (736927, -412287), (737778, -367319), (738091, -433397), (738413, -561455), (738488, -799357), (739563, -992275), (740868, -88931), (741353, -429415), (742266, -190276), (742788, -176319), (744444, -458405), (745302, -812257), (745484, -821828), (745684, -427638), (745838, -395946), (745896, -806746), (746425, -444443), (746820, -188537), (747107, -533149), (747164, -860679), (748206, -85035), (748609, -712244), (749151, -870081), (750310, -180992), (751749, -386261), (754663, -684703), (754889, -757892), (757440, -197369), (758439, -27396), (759481, -356239), (760603, -760672), (761364, -40017), (761410, -543263), (761886, -429757), (763821, -875392), (764560, -933487), (764644, -218957), (766415, -855617), (766515, -264718), (766688, -521966), (768034, -69730), (768104, -139803), (769137, -531957), (770516, -680886), (770557, -648565), (771531, -116624), (772118, -102067), (773882, -952995), (774727, -211856), (774875, -796722), (775539, -413907), (776361, -774388), (776581, -212675), (777237, -167458), (778243, -392608), (781656, -307843), (784476, -877017), (784985, -259809), (785712, -325309), (785882, -3712), (786171, -3158), (786824, -306590), (787541, -734557), (788072, -859877), (789905, -618171), (791031, -166834), (794139, -523974), (796680, -916425), (796692, -543329), (797388, -149794), (797912, -624968), (799536, -421122), (799612, -426623), (800217, -15870), (800429, -591342), (801449, -486261), (802436, -827133), (802563, -594487), (802722, -912675), (802743, -28462), (802923, -128822), (803544, -228060), (804363, -591670), (806652, -866399), (806686, -603061), (807843, -469145), (808585, -708274), (809656, -71440), (811222, -129504), (811527, -715682), (811626, -597695), (813898, -471823), (815289, -130550), (815957, -590058), (816102, -185081), (816283, -796369), (816416, -270412), (816983, -680173), (818097, -391994), (818520, -172721), (819945, -309138), (820514, -687790), (820807, -673984), (820915, -938074), (822451, -790811), (822810, -680006), (823824, -164500), (824562, -568873), (829091, -425871), (829562, -346504), (830374, -186326), (830750, -212844), (830956, -398258), (831424, -743392), (831479, -840434), (832129, -742270), (835922, -623392), (837167, -312785), (837184, -822172), (839197, -983560), (840176, -948682), (840298, -481754), (841568, -954949), (842209, -308500), (842580, -384707), (842628, -760985), (843856, -464365), (844136, -451126), (846117, -237707), (848235, -160355), (849009, -740543), (849085, -160089), (849208, -245644), (849323, -713767), (849734, -656100), (850250, -20491), (850253, -155309), (851273, -628891), (851545, -88843), (851682, -27018), (852599, -665579), (852740, -513761), (853593, -241451), (854692, -533394), (855008, -908926), (856684, -407026), (856990, -817522), (857066, -28593), (858325, -875270), (858550, -203501), (859077, -810768), (860240, -495548), (861124, -942734), (862792, -176464), (863928, -552544), (864735, -77780), (866575, -582890), (867327, -291095), (867570, -67737), (869086, -9245), (870460, -937234), (870489, -952652), (870800, -677482), (871846, -305265), (871994, -240832), (872920, -278440), (873331, -10503), (875210, -24722), (875766, -854077), (875996, -827321), (876386, -611479), (877063, 0)]

def debug(*args, **kwargs):
    print(*args, **kwargs, file=sys.stderr, flush=True)

def area_at(X: float) -> float:
    area = 0
    for (xa, ya), (xb, yb) in zip(up, up[1:]):
        if xa > X:
            break
        if xb < X:
            area += (xb - xa) * min(ya, yb)  # area of a rectangle
            area += (xb - xa) * abs(ya - yb) / 2  # area of a triangle
        else:
            y = ya + (yb - ya) / (xb - xa) * (X - xa)  # y at X
            area += (X - xa) * min(ya, y)  # area of a rectangle
            area += (X - xa) * abs(ya - y) / 2  # area of a triangle
            break
    for (xa, ya), (xb, yb) in zip(down, down[1:]):
        if xa > X:
            break
        if xb < X:
            area += (xb - xa) * -max(ya, yb)  # area of a rectangle
            area += (xb - xa) * abs(ya - yb) / 2  # area of a triangle
        else:
            y = ya + (yb - ya) / (xb - xa) * (X - xa)
            area += (X - xa) * -max(ya, y)  # area of a rectangle
            area += (X - xa) * abs(ya - y) / 2
            break

    return area


total_area = area_at(up[-1][0])
part_area = total_area / 3

def dichotomy(low: float, high: float, target: float) -> float:
    area = area_at(low+(high-low)/2)
    while abs(area - target) > 1e-6:
        middle = low+(high-low)/2
        if area > target:
            high = middle
        elif area < target:
            low = middle

        area = area_at(low+(high-low)/2)
    return low+(high-low)/2


all_x = sorted(set(x for x, _ in up) | set(x for x, _ in down))
intervals = tuple(zip(all_x, all_x[1:]))

def search_cut_interval(area: float) -> tuple[int, int]:
    index = int(area / total_area * len(intervals))

    while True:
        x1, x2 = intervals[index]
        a1 = area_at(x1)
        if a1 > part_area:
            index -=1
            continue
        a2 = area_at(x2)
        if a2 < part_area:
            index += 1
            continue

        return x1, x2


cut1_low, cut1_high = search_cut_interval(part_area)
cut2_low, cut2_high = search_cut_interval(part_area*2)

cut1 = dichotomy(cut1_low, cut1_high, part_area)
print(cut1)

cut2 = dichotomy(cut2_low, cut2_high, part_area*2)
print(cut2)



